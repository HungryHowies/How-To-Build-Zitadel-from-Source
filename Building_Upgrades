Upgrade Zitadel
Overview: 

Follow the above steps to build new version of Zitadel. Download the new version, copy any configuration files that were modify in the previous Zitadel version to the new Zitadel version, build/configure using the Makefile, stop Zitadel service, remove old executable OR copy new Zitadel executable over the old executable in this working directory.( /usr/local/bin/). 

Copying the modified configuration files  before the build and the executable file "Zitadel" will replace the old one in directory ( /usr/local/bin).

Depending on what files were modified they need to be copied over to Zitadel current version.

```
cd /home/zitadel-2.42.10/
```
Copy files over to new version.
```
### Copy these file over to new version ###
cp console/src/index.html  /home/zitadel-2.42.11/console/src/index.html 
cp console/src/assets/i18n/en.json  /home/zitadel-2.42.11/console/src/assets/i18n/en.json 
cp console/src/app/modules/header/header.component.html  /home/zitadel-2.42.11/console/src/app/modules/header/header.component.html
cp console/src/app/modules/footer/footer.component.html  /home/zitadel-2.42.11/console/src/app/modules/footer/footer.component.html 
cp console/src/app/pages/home/home.component.html  /home/zitadel-2.42.11/console/src/app/pages/home/home.component.html 
cp console/src/app/utils/onboarding.ts  /home/ zitadel-2.42.11/console/src/app/utils/onboarding.ts  
cp console/src/app/pages/signedout/signedout.component.html /home/zitadel-2.42.11/console/src/app/pages/signedout/signedout.component.html
cp console/src/app/pages/signedout/signedout.component.scss  /home/zitadel-2.42.10/console/src/app/pages/signedout/signedout.component.scss 
```

Dont  copy  Just adjustthis section-- >>.  mat-icon-button href="https://zitadel.com/docs/concepts/structure/users"
  
```
vi /home/zitadel-2.42.11/console/src/app/pages/users/user-detail/user-detail/user-detail.component.html
vi /home/zitadel-2.42.11/console/src/app/pages/projects/projects.component.html
vi /home/zitadel-2.42.11/console/src/app/pages/orgs/org-members/org-members.component.html
vi /home/zitadel-2.42.11/console/src/app/pages/instance/instance-members/instance-members.component.html
vi /home/zitadel-2.42.11/console/src/app/modules/domains/domains.component.html
vi /home/zitadel-2.42.11/console/src/app/pages/users/user-list/user-list.component.html
vi/home/zitadel-2.42.11/console/src/app/modules/domains/domains.component.html 
```
The Makefile should be located in Zitadel's home directory for the new build (/home/zitadel-2.42.11).

```
vi /home/zitadel-2.42.11/Makefile
```
Edit the following lines to match the package version download. This will be shown in the console when finished.
```
now := $(shell date --rfc-3339=seconds | sed 's/ /T/')
VERSION ?= v2.42.11                                  <---------- HERE
```
Run make
```
root@zitadel-build:/home/zitadel-2.42.11# make
```
Stop Zitadel service
```
systemctl stop zitadel
```
Copy new Zitadel version executable made to the working directory. You can either remove the old Zitadel executable or copy over the old one.
```
cp  /home/zitadel-2.42.11/zitadel /usr/local/bin/zitadel
```
Update tables.
```
Root # zitadel setup   --config defaults.yaml --steps steps.yaml --masterkey "MasterkeyNeedsToHave32Characters"  --tlsMode external
```
Start  Zitadel service 
```
systemctl start zitadel
```
